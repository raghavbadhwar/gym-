version: '3.9'

services:
  neo4j:
    image: neo4j:5.26
    container_name: credity-neo4j
    restart: unless-stopped
    ports:
      - "${NEO4J_HTTP_PORT:-7474}:7474"
      - "${NEO4J_BOLT_PORT:-7687}:7687"
    environment:
      NEO4J_AUTH: "${NEO4J_AUTH:-neo4j/credity-dev-password}"
      NEO4J_dbms_default__database: "${NEO4J_DATABASE:-neo4j}"
      NEO4J_dbms_memory_heap_initial__size: "${NEO4J_HEAP_INITIAL_SIZE:-256m}"
      NEO4J_dbms_memory_heap_max__size: "${NEO4J_HEAP_MAX_SIZE:-512m}"
      NEO4J_server_bolt_enabled: "true"
      NEO4J_server_http_enabled: "true"
      NEO4J_server_default__listen__address: "0.0.0.0"
    volumes:
      - neo4j_data:/data
      - neo4j_logs:/logs
      - neo4j_plugins:/plugins

volumes:
  neo4j_data:
  neo4j_logs:
  neo4j_plugins:
