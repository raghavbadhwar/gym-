# GymBuddy

ğŸ‹ï¸ WhatsApp-first AI-powered gym member retention platform for Indian fitness centers.

## Features

- **WhatsApp Native** - Members interact via WhatsApp, India's most popular messaging app
- **AI-Powered Plans** - Personalized workout and diet plans generated by Google Gemini
- **Class Booking** - Book gym classes with waitlist support via interactive WhatsApp messages
- **Progress Tracking** - Weekly check-ins, streak tracking, and adaptive plan adjustments
- **Smart Engagement** - State machine to identify at-risk members before they churn

## Quick Start

### Prerequisites
- Docker Desktop
- Python 3.11+
- WhatsApp Business API access
- Gemini API key

### Setup

```bash
# Clone and enter directory
cd /Users/raghav/Desktop/systems/gymbuddy

# Start databases
docker-compose up -d

# Create virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Configure environment
cp .env.example .env
# Edit .env with your API keys

# Run the server
uvicorn app.main:app --reload --port 8000
```

### Documentation

- **[SETUP_GUIDE.md](./SETUP_GUIDE.md)** - Complete setup instructions
- **API Docs** - http://localhost:8000/docs (when server is running)

## Architecture

```
gymbuddy/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py              # FastAPI entry point
â”‚   â”œâ”€â”€ config.py            # Settings
â”‚   â”œâ”€â”€ database.py          # DB connection
â”‚   â”œâ”€â”€ models/              # SQLAlchemy models
â”‚   â”œâ”€â”€ services/            # Business logic
â”‚   â”œâ”€â”€ routers/             # API routes
â”‚   â””â”€â”€ flows/               # WhatsApp conversation flows
â”œâ”€â”€ docker-compose.yml       # PostgreSQL + Redis
â””â”€â”€ requirements.txt
```

## API Endpoints

| Endpoint | Description |
|----------|-------------|
| `GET /` | Health check |
| `POST /api/v1/members` | Create member |
| `GET /api/v1/members/{phone}` | Get member details |
| `POST /api/v1/members/{phone}/workout/generate` | Generate workout plan |
| `POST /api/v1/members/{phone}/diet/generate` | Generate diet plan |
| `GET /api/v1/classes` | List upcoming classes |
| `POST /api/v1/classes/book` | Book a class |
| `POST /api/v1/webhooks/whatsapp` | WhatsApp webhook |

## WhatsApp Commands

Members can send these to the bot:

| Command | Action |
|---------|--------|
| `hi` / `hello` | Get greeting with options |
| `workout` | Get today's workout |
| `diet` | View meal plan |
| `classes` / `book` | Book a class |
| `progress` | Check stats |
| `streak` | View streak info |
| `done` | Log completed workout |
| `help` | Show all commands |

## Tech Stack

- **Backend:** Python 3.11 + FastAPI
- **Database:** PostgreSQL 15
- **Cache:** Redis
- **AI:** Google Gemini API
- **Messaging:** WhatsApp Cloud API

## License

MIT
